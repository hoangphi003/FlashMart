<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>FlashMart Shop</title>
	<link rel="shortcut icon" href="/assets/images/logos/logoicon.png" type="image/png">
	<!-- Bootstrap CSS v5.2.1 -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
		  integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
	<link rel="stylesheet" href="/assets/css/home.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>
<body>
<header th:replace="~{/layout/user/header.html::menu-user}"></header>
<main>
	<div id="s" class="container justify-content-center d-flex mt-5">
		<div class="nothing mt-4 w-75 mb-5 mt-5">
			<h1 class="mb-3 text-center" style="font-weight: bold;">Đăng ký</h1>
			<br>
			<h6 style="margin-top: -20px; font-size: 14px;" class="text-center">Đăng
				nhập để không bỏ lỡ quyền lợi tích luỹ và hoàn tiền.cho bất kỳ đơn
				hàng nào</h6>
			<br>
			<h6 class="text-center" style="margin-top: -10px; font-weight: bold; font-size: 14px;">
				Đăng nhập hoặc đăng ký (miễn phí)</h6>
			<hr style="width: 90%; margin-left: 20px;">
			<br>
			<form action="/register" method="post" role="form">
				<div class="form-floating">
					<input type="text" class="form-control" id="username" placeholder="name" name="customertname"
						   style="border-radius: 30px; height: 50px; width: 90%; margin-left: 20px;"
						   onblur="checkName();" /> <label for="floatingName"
														   style="margin-left: 25px; color: gray; margin-bottom: 25px;">Tên
					của bạn</label>
					<p id="message" style="color: red; margin-left: 30px"></p>
				</div>

				<div class="form-floating" style="margin-top: 10px;">
					<input type="text" class="form-control" id="phonenumber" name="phone" placeholder="SÄT"
						   style="border-radius: 30px; height: 50px; width: 90%; margin-left: 20px;"
						   onblur="checkPhone();" /> <label for="floatingSÄT"
															style="margin-left: 25px; color: gray; margin-bottom: 25px;">SĐT
					của bạn</label>
					<p id="message1" style="color: red; margin-left: 30px"></p>
				</div>

				<div class="form-floating" style="margin-top: 10px;">
					<input type="email" name="email" class="form-control" id="email" placeholder="name@example.com"
						   style="border-radius: 30px; height: 50px; width: 90%; margin-left: 20px;">
					<label for="floatingEmail" style="margin-left: 25px; color: gray; margin-bottom: 25px;">Email
						của bạn</label>
					<p id="message2" style="color: red; margin-left: 30px"></p>
				</div>
				<div class="form-check form-check-inline" style="margin-left: 30px">
					<input class="form-check-input" type="radio" name="gender" id="inlineRadio1" value="true">
					<label class="form-check-label" for="inlineRadio1">Nam</label>
				</div>
				<div class="form-check form-check-inline">
					<input class="form-check-input" type="radio" name="gender" id="inlineRadio2" value="false">
					<label class="form-check-label" for="inlineRadio2">Nữ</label>
				</div>
				<div class="form-floating" style="margin-top: 10px;">
					<input type="password" name="password" class="form-control" id="password" placeholder="Password"
						   style="border-radius: 30px; height: 50px; width: 90%; margin-left: 20px;">
					<label for="floatingPassword" style="margin-left: 25px; color: gray; margin-bottom: 25px;">Mật
						khẩu</label>
					<p id="message3" style="color: red; margin-left: 30px"></p>
				</div>

				<div class="form-floating" style="margin-top: 10px;">
					<input type="password" name="confirm" class="form-control" id="confimpassword"
						   placeholder="Password"
						   style="border-radius: 30px; height: 50px; width: 90%; margin-left: 20px;">
					<label for="floatingNhaplaiPassword"
						   style="margin-left: 25px; color: gray; margin-bottom: 25px;">Nhập
						lại mật khẩu</label>
					<p id="message4" style="color: red; margin-left: 30px"></p>
				</div>
				<button type="submit" onclick="return checkName();"
						style="margin-top: 15px; width: 90%; margin-left: 20px; border-radius: 30px;"
						class="mb-3 kl checkmobile">
					<span class="circle1"></span> <span class="circle2"></span> <span class="circle3"></span> <span
						class="circle4"></span> <span class="circle5"></span> <span class="text">Đăng ký</span>
				</button>
			</form>
			<br> <a href="/account/login" style="text-decoration: none; margin-left: 25px;">Đăng nhập</a> <a href=""
																											 style="text-decoration: none; margin-right: 94px" class="float-end">Quên mật khẩu</a>
			<h6 style="font-size: 13px; margin-left: 25px; margin-top: 10px;">
				Nếu đã từng mua hàng trên Website trước đây, bạn có thể dùng tính
				năng Tính năng "Lấy mật khẩu" để có thể truy cập vào Coolmate.</h6>
		</div>
	</div>
</main>
<footer th:replace="~{/layout/user/footer.html::footer-user}"></footer>

<div class="alert alert-dismissible fade in show fixed-bottom" style="left: auto; right: 20px; width: 500px"
	 role="alert">
	<strong id="message-strong">! </strong> <span id="message"></span>
	<button type="button" class="btn-close" data-dismiss="alert" aria-label="Close">
		<!-- <span aria-hidden="true">&times;</span> -->
	</button>
</div>

<!-- Bootstrap JavaScript Libraries -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"></script>
<script src="/usertemplate/js/jquery-3.2.1.min.js"></script>
<script src="/usertemplate/js/jquery-ui.min.js"></script>
<script src="/js/jquery.countdown.min.js"></script>
<!-- <script>
    $('.alert').hide();
<c:if test="${success != null}">
    alertResult('alert-success', 'Success!', '${success}');
</c:if>
<c:if test="${param.success != null}">
    alertResult('alert-success', 'Success!', '${param.success}');
    history.pushState({}, "", "${sessionScope.historyURI}");
</c:if>
<c:if test="${error != null}">
    alertResult('alert-danger', 'Error!', '${error}');

</c:if>
<c:if test="${param.error != null}">
    alertResult('alert-danger', 'Error!', '${param.error}');
    history.pushState({}, "", "${sessionScope.historyURI}");
</c:if>

    function alertResult(cls, strong, mess) {
        $('.alert').addClass(cls);
        $('.alert #message-strong').html(strong);
        $('.alert #message').html(mess);
        $('.alert').show();

        setTimeout(function () {
            $('button.btn-close').click();
        }, 5000);
    }

</script> -->

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
		integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous">

</script>
<script src="/usertemplate/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
		integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz" crossorigin="anonymous">

</script>

<script src="/usertemplate/js/categories.js"></script>
<script src="/usertemplate/js/shoppingcart.js"></script>
<script>
	function checkName() {
		var name = document.getElementById("username").value;
		var message = document.getElementById("message");
		var regexName = /^[^\d+]*[\d+]{0}[^\d+]*$/;

		var phone = document.getElementById("phonenumber").value;
		var message1 = document.getElementById("message1");
		var regexPhone = /^\+?\d{1,3}?[- .]?\(?(?:\d{2,3})\)?[- .]?\d\d\d[- .]?\d\d\d\d$/;

		var email1 = document.getElementById("email").value;
		var message2 = document.getElementById("message2");
		var regexEmail = /\b[A-Z0-9._%+-]+@(?:[A-Z0-9-]+\.)+[A-Z]{2,6}\b/i;

		var pass = document.getElementById("password").value;
		var message3 = document.getElementById("message3");
		var regexMatKhau = /\ /;

		var confpass = document.getElementById("confimpassword").value;
		var message4 = document.getElementById("message4");
		var regexMatKhau = /\ /;

		if (name == "" || name == null) {
			username.style.border = "1px solid red";
			message.innerHTML = "Họ tên không được bỏ trống!";
			return false;
		} else if (!regexName.test(name)) {
			username.style.border = "1px solid red";
			message.innerHTML = "Họ tên không hợp lệ!";
			return false;
		} else {
			username.style.border = "none";
			message.innerHTML = "";
		}
		if (phone == "") {
			phonenumber.style.border = "1px solid red";
			message1.innerHTML = "SDT không được để trống!";
			return false;
		} else if (!regexPhone.test(phone)) {
			phonenumber.style.border = "1px solid red";
			message1.innerHTML = "SDT không đúng định dạng";
			return false;
		} else {
			phonenumber.style.border = "none";
			message1.innerHTML = "";
		}
		if (email1 == "") {
			email.style.border = "1px solid red";
			message2.innerHTML = "Email không được để trống!";
			return false;
		} else if (!regexEmail.test(email1)) {
			email.style.border = "1px solid red";
			message2.innerHTML = "Email không hợp lệ";
			return false;
		} else {
			email.style.border = "none";
			message2.innerHTML = "";
		}
		if (pass == "") {
			password.style.border = "1px solid red";
			message3.innerHTML = "Mật khẩu không được để trống!";
			return false;
		} else if (regexMatKhau.test(pass)) {
			password.style.border = "1px solid red";
			message3.innerHTML = "Mật khẩu không hợp lệ vì chứa khoảng cách";
			return false;
		} else {
			password.style.border = "none";
			message3.innerHTML = "";
		}
		if (confpass == "") {
			confimpassword.style.border = "1px solid red";
			message4.innerHTML = "Mật khẩu không được để trống!";
			return false;
		} else if (regexMatKhau.test(confpass)) {
			confimpassword.style.border = "1px solid red";
			message4.innerHTML = "Mật khẩu không hợp lệ vì chứa khoảng cách";
			return false;
		} else if (confpass != pass) {
			confimpassword.style.border = "1px solid red";
			message4.innerHTML = "Mật khẩu không trùng khớp";
			return false;
		}
		else {
			confimpassword.style.border = "none";
			message4.innerHTML = "";
			return confpass;
		}
	}
</script>
<script>
	function checkDangnhap() {
		var email2 = document.getElementById("email3").value;
		var message10 = document.getElementById("message10");
		var regexEmail = /\b[A-Z0-9._%+-]+@(?:[A-Z0-9-]+\.)+[A-Z]{2,6}\b/i;

		var pass2 = document.getElementById("password2").value;
		var message11 = document.getElementById("message11");
		var regexMatKhau = /\ /;

		if (email2 == "") {
			email3.style.border = "1px solid red";
			message10.innerHTML = "Email không được để trống!";
			return false;
		} else if (!regexEmail.test(email2)) {
			email3.style.border = "1px solid red";
			message10.innerHTML = "Email không hợp lệ";
			return false;
		} else {
			email3.style.border = "none";
			message10.innerHTML = "";
		}
		if (pass2 == "") {
			password2.style.border = "1px solid red";
			message11.innerHTML = "Mật khẩu không được để trống!";
			return false;
		} else if (regexMatKhau.test(pass2)) {
			password2.style.border = "1px solid red";
			message11.innerHTML = "Mật khẩu không hợp lệ vì chứa khoảng cách";
			return false;
		} else {
			password2.style.border = "none";
			message11.innerHTML = "";
			return pass2;
		}
	}
</script>
</body>
</html>

